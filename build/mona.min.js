!function(e){if("function"==typeof bootstrap)bootstrap("mona",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeMona=e}else"undefined"!=typeof window?window.mona=e():global.mona=e()}(function(){var define,ses,bootstrap,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function parse(parser,string,opts){opts=opts||{throwOnError:true};var parseState=parser(new ParserState(undefined,string,opts.userState,new SourcePosition(opts.fileName),false));if(parseState.error&&opts.throwOnError){throw parseState.error}else if(parseState.error&&!opts.throwOnError){return parseState.error}else{return parseState.value}}function SourcePosition(name,line,column){this.name=name;this.line=line||1;this.column=column||1}function ParseError(pos,messages,type){if(Error.captureStackTrace){Error.captureStackTrace(this,this)}this.position=pos;this.messages=messages;this.type=type;this.message="(line "+this.position.line+", column "+this.position.column+") "+this.messages.join("\n ")}ParseError.prototype=new Error;ParseError.prototype.constructor=ParseError;ParseError.prototype.name="ParseError";function value(val){return function(parserState){return attr(parserState,"value",val)}}function bind(parser,fun){return function(parserState){var newParserState=parser(parserState);if(newParserState.error){return newParserState}else{return fun(newParserState.value)(newParserState)}}}function fail(msg,type){msg=msg||"parser error";type=type||"failure";return function(parserState){return attr(parserState,"error",function(oldErr){return mergeErrors(oldErr,new ParseError(parserState.position,[msg],type))})}}function expected(descriptor){return fail("expected "+descriptor,"expectation")}function token(count){count=count||1;return function(parserState){var input=parserState.restOfInput;if(input.length>=count){var newParserState=copy(parserState),newPosition=copy(parserState.position);for(var i=0;i<count;i++){if(input.charAt(i)==="\n"){newPosition.column=1;newPosition.line+=1}else{newPosition.column+=1}}newParserState.value=input.slice(0,count);newParserState.restOfInput=input.slice(count);newParserState.position=newPosition;return newParserState}else{return fail("unexpected eof","eof")(parserState)}}}function eof(){return function(parserState){if(!parserState.restOfInput){return attr(parserState,"value",true)}else{return expected("end of input")(parserState)}}}function delay(constructor){var args=[].slice.call(arguments,1);return function(parserState){return constructor.apply(null,args)(parserState)}}function log(parser,tag,level){level=level||"log";return function(parserState){var newParserState=parser(parserState);console[level](tag+" :: ",parserState," => ",newParserState);return newParserState}}function and(firstParser){var moreParsers=[].slice.call(arguments,1);return bind(firstParser,function(result){return moreParsers.length?and.apply(null,moreParsers):value(result)})}function or(){function orHelper(){var parsers=[].slice.call(arguments);return function(parserState){var res=parsers[0](parserState);if(res.error&&parsers[1]){return orHelper.apply(null,parsers.slice(1))(parserState)}else{return res}}}return orHelper.apply(null,arguments)}function maybe(parser){return or(parser,value())}function not(parser){return function(parserState){return parser(parserState).error?value(true)(parserState):fail("expected parser to fail")(parserState)}}function unless(parser){var moreParsers=[].slice.call(arguments,1);return and.apply(null,[not(parser)].concat(moreParsers))}function sequence(fun){return function(parserState){var state=parserState,failwhale={};function s(parser){state=parser(state);if(state.error){throw failwhale}else{return state.value}}try{return fun(s)(state)}catch(x){if(x===failwhale){return state}else{throw x}}}}function followedBy(parser){var parsers=[].slice.call(arguments,1);return bind(parser,function(result){return bind(and.apply(null,parsers),function(){return value(result)})})}function separatedBy(parser,separator,minimum){minimum=typeof minimum==="undefined"?0:minimum;if(minimum===0){return or(separatedBy(parser,separator,1),value([]))}else{return sequence(function(s){var x=s(parser);var xs=s(zeroOrMore(and(separator,parser)));var result=[x].concat(xs);if(result.length>=minimum){return value(result)}else{return fail("expected at least "+minimum+"values from separatedBy")}})}}function zeroOrMore(parser){return function(parserState){var prev=parserState,s=parserState,res=[];while(s=parser(s),!s.error){res.push(s.value);prev=s}return value(res)(prev)}}function oneOrMore(parser){return sequence(function(s){var x=s(parser),y=s(zeroOrMore(parser));return value([x].concat(y))})}function between(open,close,parser){return and(open,followedBy(parser,close))}function skip(parser){return and(zeroOrMore(parser),value())}function satisfies(predicate){return bind(token(),function(c){if(predicate(c)){return value(c)}else{return fail("token does not match '"+(predicate.name||"predicate")+"'")}})}function stringOf(parser){return bind(parser,function(xs){if(xs.hasOwnProperty("length")&&xs.join){return value(xs.join(""))}else{return expected("an array-like from parser")}})}function character(x,caseSensitive){caseSensitive=typeof caseSensitive==="undefined"?true:caseSensitive;x=caseSensitive?x:x.toLowerCase();return or(satisfies(function(y){y=caseSensitive?y:y.toLowerCase();return x===y}),expected("character {"+x+"}"))}function oneOf(chars,caseSensitive){caseSensitive=typeof caseSensitive==="undefined"?true:caseSensitive;chars=caseSensitive?chars:chars.toLowerCase();return or(satisfies(function(x){x=caseSensitive?x:x.toLowerCase();return~chars.indexOf(x)}),expected("one of {"+chars+"}"))}function noneOf(chars,caseSensitive){caseSensitive=typeof caseSensitive==="undefined"?true:caseSensitive;chars=caseSensitive?chars:chars.toLowerCase();return or(satisfies(function(x){x=caseSensitive?x:x.toLowerCase();return!~chars.indexOf(x)}),expected("none of {"+chars+"}"))}function string(str,caseSensitive){caseSensitive=typeof caseSensitive==="undefined"?true:caseSensitive;str=caseSensitive?str:str.toLowerCase();return sequence(function(s){var tokens=s(token(str.length)),matchTokens=caseSensitive?tokens:tokens.toLowerCase();if(str===matchTokens){return value(tokens)}else{return expected("string matching {"+str+"}")}})}function digitCharacter(base){base=base||10;return or(satisfies(function(x){return!isNaN(parseInt(x,base))}),expected("digitCharacter"))}function space(){return or(oneOf(" 	\n\r"),expected("space"))}function spaces(){return or(and(space(),skip(space()),value(" ")),expected("spaces"))}function text(parser,parserName){if(!parser){parserName="token";parser=token()}return or(stringOf(oneOrMore(parser)),expected("text"+(typeof parserName!=="undefined"?" of {"+parserName+"}":"")))}function digit(base){base=base||10;return sequence(function(s){var c=s(token()),digit=s(value(parseInt(c,base)));return isNaN(digit)?fail("invalid digit"):value(digit)})}function naturalNumber(base){base=base||10;return sequence(function(s){var xs=s(oneOrMore(digitCharacter(base)));return value(parseInt(xs.join(""),base))})}function integer(base){base=base||10;return sequence(function(s){var sign=s(maybe(or(character("+"),character("-")))),num=s(naturalNumber(base));return value(num*(sign==="-"?-1:1))})}module.exports={parse:parse,value:value,bind:bind,fail:fail,expected:expected,token:token,eof:eof,log:log,delay:delay,and:and,or:or,maybe:maybe,not:not,unless:unless,sequence:sequence,followedBy:followedBy,separatedBy:separatedBy,zeroOrMore:zeroOrMore,oneOrMore:oneOrMore,between:between,skip:skip,satisfies:satisfies,stringOf:stringOf,character:character,oneOf:oneOf,noneOf:noneOf,string:string,digitCharacter:digitCharacter,space:space,spaces:spaces,text:text,digit:digit,naturalNumber:naturalNumber,integer:integer};function copy(obj){var newObj=Object.create(Object.getPrototypeOf(obj));for(var key in obj){if(obj.hasOwnProperty(key)){newObj[key]=obj[key]}}return newObj}function attr(obj,name,arg){if(arguments.length<2){return copy(obj)}else if(arguments.length<3){return obj[name]}else{var newObj=copy(obj);newObj[name]=typeof arg==="function"?arg(obj[name]):arg;return newObj}}function mergeErrors(err1,err2){if(!err1||!err1.messages.length&&err2.messages.length){return err2}else if(!err2||!err2.messages.length&&err1.messages.length){return err1}else{return new ParseError(err1.position,err1.messages.concat(err2.messages),err1.type||err2.type)}}function ParserState(value,restOfInput,userState,position,hasConsumed,error){this.value=value;this.restOfInput=restOfInput;this.position=position;this.userState=userState;this.error=error}},{}]},{},[1])(1)});
//# sourceMappingURL=build/mona.js.src